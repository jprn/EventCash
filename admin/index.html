<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Admin</title>
    <link rel="stylesheet" href="/assets/css/app.css" />
    <link rel="stylesheet" href="/assets/css/admin.css" />
  </head>
  <body class="admin">
    <div class="container">
      <div class="topbar">
        <div class="brand">
          <div class="logo" aria-hidden="true">
            <svg viewBox="0 0 24 24"><path d="M4 7h16"/><path d="M6 7v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7"/></svg>
          </div>
          Cashless Event
        </div>
        <div class="nav" aria-label="Navigation">
          <a href="/client/"><svg viewBox="0 0 24 24"><path d="M12 12a4 4 0 1 0-4-4"/><path d="M4 21a8 8 0 0 1 16 0"/></svg>Mon Wallet</a>
          <a href="/recharge/"><svg viewBox="0 0 24 24"><path d="M12 5v14"/><path d="M5 12h14"/></svg>Recharge</a>
          <a href="/stand-restauration/"><svg viewBox="0 0 24 24"><path d="M6 7h12"/><path d="M6 12h12"/><path d="M6 17h12"/></svg>Restauration</a>
          <a href="/stand-buvette/"><svg viewBox="0 0 24 24"><path d="M6 7h12"/><path d="M6 12h12"/><path d="M6 17h12"/></svg>Buvette</a>
          <a href="/stand-boutique/"><svg viewBox="0 0 24 24"><path d="M6 7h12"/><path d="M6 12h12"/><path d="M6 17h12"/></svg>Boutique</a>
          <a class="active" href="#"><svg viewBox="0 0 24 24"><path d="M12 3v18"/><path d="M3 12h18"/></svg>Admin</a>
        </div>
      </div>

      <div class="a-hero">
        <div class="a-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M4 19V5"/><path d="M4 19h16"/><path d="M8 17v-6"/><path d="M12 17V9"/><path d="M16 17v-3"/></svg>
        </div>
        <div class="a-title">Dashboard Admin</div>
        <p class="a-subtitle">Vue d'ensemble de l'événement</p>
      </div>

      <div class="a-grid a-grid-4">
        <div class="a-card">
          <div class="a-card-body a-kpi">
            <div class="meta">
              <div class="k">Chiffre d'affaires</div>
              <div class="v" id="totalCa">0.00€</div>
            </div>
            <div class="ico ca" aria-hidden="true">
              <svg viewBox="0 0 24 24"><path d="M12 6v12"/><path d="M8 9h7a3 3 0 0 1 0 6H8"/></svg>
            </div>
          </div>
        </div>

        <div class="a-card">
          <div class="a-card-body a-kpi">
            <div class="meta">
              <div class="k">Transactions</div>
              <div class="v" id="totalTx">0</div>
            </div>
            <div class="ico tx" aria-hidden="true">
              <svg viewBox="0 0 24 24"><path d="M6 6h15l-2 7H7"/><path d="M7 13l-1 4h13"/><path d="M9 20a1 1 0 1 0 0-2"/><path d="M17 20a1 1 0 1 0 0-2"/></svg>
            </div>
          </div>
        </div>

        <div class="a-card">
          <div class="a-card-body a-kpi">
            <div class="meta">
              <div class="k">Soldes restants</div>
              <div class="v" id="sumBalances">0.00€</div>
            </div>
            <div class="ico bal" aria-hidden="true">
              <svg viewBox="0 0 24 24"><path d="M3 7.5h18"/><path d="M4.5 7.5v11A2.5 2.5 0 0 0 7 21h10a2.5 2.5 0 0 0 2.5-2.5v-11"/></svg>
            </div>
          </div>
        </div>

        <div class="a-card">
          <div class="a-card-body a-kpi">
            <div class="meta">
              <div class="k">Wallets actifs</div>
              <div class="v" id="walletsActive">—</div>
            </div>
            <div class="ico wal" aria-hidden="true">
              <svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 3-1.34 3-3"/><path d="M19 8V7a3 3 0 0 0-3-3H7a4 4 0 0 0 0 8h12"/><path d="M7 12h12v8H7z"/></svg>
            </div>
          </div>
        </div>
      </div>

      <div style="height:14px"></div>
      <div class="a-grid a-grid-2">
        <div class="a-card">
          <div class="a-card-body">
            <div class="a-section-title">
              <svg viewBox="0 0 24 24"><path d="M7 10V7a5 5 0 0 1 10 0v3"/><path d="M6 10h12v10H6z"/></svg>
              Chiffre d'affaires par stand
            </div>
            <div class="a-list" id="byStand"></div>
          </div>
        </div>

        <div class="a-card">
          <div class="a-card-body">
            <div class="a-section-title">
              <svg viewBox="0 0 24 24"><path d="M12 3v12"/><path d="M8 11l4 4 4-4"/><path d="M4 21h16"/></svg>
              Export des données
            </div>
            <a id="exportCsv" class="a-btn" href="#" download>
              <svg viewBox="0 0 24 24"><path d="M12 3v12"/><path d="M8 11l4 4 4-4"/><path d="M4 21h16"/></svg>
              Exporter les transactions (CSV)
            </a>
            <div class="a-hint" id="exportHint">—</div>
            <div style="height:12px"></div>
            <button id="refresh" class="a-btn" type="button" style="background:rgba(255,255,255,.75);color:rgba(15,23,42,.85);border:1px solid rgba(15,23,42,.10);box-shadow:0 12px 26px rgba(15,23,42,.05)">
              Rafraîchir
            </button>
            <div style="height:12px"></div>
            <div class="a-toast" id="toast" style="display:block">Prêt.</div>
          </div>
        </div>
      </div>

      <div style="height:14px"></div>
      <div class="a-card">
        <div class="a-card-body">
          <div class="a-section-title">
            <svg viewBox="0 0 24 24"><path d="M7 10V7a5 5 0 0 1 10 0v3"/><path d="M6 10h12v10H6z"/></svg>
            Gestion des Wallets
          </div>

          <div id="walletPreview" class="a-preview" style="display:none">
            <div class="a-previewHead">
              <div class="a-previewTitle">Aperçu du wallet</div>
              <button id="walletPreviewClose" class="a-previewClose" type="button">Fermer</button>
            </div>
            <div class="a-previewGrid">
              <div class="a-previewQr" id="walletPreviewQr"></div>
              <div class="a-previewMeta">
                <div class="a-previewRow"><div class="k">Token</div><div class="v a-token" id="walletPreviewToken"></div></div>
                <div class="a-previewRow"><div class="k">Solde</div><div class="v" id="walletPreviewBalance"></div></div>
                <div class="a-previewRow"><div class="k">Statut</div><div class="v" id="walletPreviewStatus"></div></div>
              </div>
            </div>
          </div>

          <div class="a-walletHeader">
            <div class="a-search" style="flex:1">
              <svg viewBox="0 0 24 24"><path d="M21 21l-4.3-4.3"/><path d="M11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14"/></svg>
              <input id="walletSearch" placeholder="Rechercher par token…" />
            </div>
          </div>

          <table class="a-table">
            <thead>
              <tr>
                <th>Token</th>
                <th>Solde</th>
                <th>Date création</th>
                <th>Statut</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="walletsTbody"></tbody>
          </table>
        </div>
      </div>

      <div class="footer">Templates — renomme ce dossier sur Hostinger en URL secrète.</div>
    </div>

    <script src="/assets/js/config.js"></script>
    <script src="/assets/js/api.js"></script>
    <script src="/assets/js/admin.js"></script>
  </body>
</html>
